<!DOCTYPE html>
<html lang="it">
<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Inserisci Nuovo Soggetto</title>

		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
		<!-- Bootstrap JS -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="bg-light">
	<div th:replace="~{fragments/navbar :: navbar}"></div>

	<div class="container mt-5">
		<div class="row justify-content-center">
			<div class="col-md-6">
				<h1 class="text-center mb-4">Inserisci Nuovo Soggetto</h1>

				<!-- Messaggio di successo -->
				<div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
						<span th:text="${successMessage}"></span>
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				</div>

				<div class="card shadow-lg p-4">
					<form action="/soggetti" method="POST">
						<div class="mb-3">
								<label for="cognome" class="form-label">Cognome</label>
								<input type="text" id="cognome" name="cognome" class="form-control" required maxlength="100">
						</div>

						<div class="mb-3">
								<label for="nome" class="form-label">Nome</label>
								<input type="text" id="nome" name="nome" class="form-control" required maxlength="100">
						</div>

						<div class="mb-3">
							<label for="sesso" class="form-label">Sesso</label>
							<select class="form-select" required>
								<option value="">Seleziona il sesso del cittadino...</option>
								<option value="M">Maschio</option>
								<option value="F">Femmina</option>
							</select>
						</div>

						<div class="mb-3">
							<label for="dataNascita" class="form-label">Data di nascita</label>
							<input type="date" id="dataNascita" name="dataNascita" class="form-control">
						</div>

						<div class="mb-3">
							<label for="statoAnagrafico">Stato Anagrafico</label>
							<select id="statoAnagrafico" name="statoAnagrafico" class="form-control" required>
								<option value="">Seleziona lo stato anagrafico...</option>
								<option th:each="stato : ${statiAnagrafici}"
												th:value="${stato.codice}"
												th:text="${stato.descrizione}">
								</option>
							</select>
						</div>

						<div class="mb-3">
								<label for="email" class="form-label">Email</label>
								<input type="email" id="indirizzoEmail" name="indirizzoEmail" class="form-control">
						</div>
						
						<div class="mb-3">
							<label for="tipoEmail" class="form-label">Tipo Email</label>
							<input type="text" id="tipoEmail" name="tipoEmail" class="form-control">
						</div>

						<div class="d-flex justify-content-between">
							<button type="submit" class="btn btn-primary">Aggiungi Soggetto</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

	<script>
		// Dopo 5 secondi, chiude l'alert con una transizione fluida
		setTimeout(function () {
			let alert = document.querySelector(".alert");
			if (alert) {
				let bsAlert = new bootstrap.Alert(alert);
				bsAlert.close();
			}
		}, 5000);
	</script>

</body>
</html>
